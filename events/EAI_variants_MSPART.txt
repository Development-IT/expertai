add_namespace = EAI_V_MSPART

#M-SPART I

country_event = { #450 XP
	id = EAI_V_MSPART.1
	hidden = yes
	mean_time_to_happen = { days = 10 }
	trigger = {
		is_ai = yes
		has_tech = basic_medium_art NOT = { has_tech = improved_medium_art }
		has_army_experience > 75
		NOT = { has_country_flag = mspart_I_8/8 }
		OR = { #develop other variants first
			AND = { 
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				mspaa_developed = yes
				marm_developed = yes
			}
			NOT = { original_tag = USA original_tag = GER original_tag = SOV }
		}
		OR = { #is using mspart
			original_tag = ITA original_tag = ENG original_tag = JAP original_tag = FRA
			has_country_flag = armor_2 has_country_flag = armor_3 has_country_flag = armor_4 
		} 
	}
	
	immediate = {
		if = { limit = { NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV } }
			
			if = { limit = { NOT = { has_country_flag = mspart_I_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG I Mk. 1" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_I_1/8
			}
			if = { limit = { has_country_flag = mspart_I_1/8 NOT = { has_country_flag = mspart_I_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG I Mk. 2" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_I_2/8
			}
			if = { limit = { has_country_flag = mspart_I_2/8 NOT = { has_country_flag = mspart_I_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG I Mk. 3" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_I_3/8
			}
			if = { limit = { has_country_flag = mspart_I_3/8 NOT = { has_country_flag = mspart_I_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG I Mk. 4" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_I_4/8
			}
			if = { limit = { has_country_flag = mspart_I_4/8 NOT = { has_country_flag = mspart_I_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG I Mk. 5" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_I_5/8
			}
			if = { limit = { has_country_flag = mspart_I_5/8 NOT = { has_country_flag = mspart_I_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG I Mk. 6" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_I_6/8
			}
			if = { limit = { has_country_flag = mspart_I_6/8 NOT = { has_country_flag = mspart_I_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG I Mk. 7" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_I_7/8
			}
			if = { limit = { has_country_flag = mspart_I_7/8 NOT = { has_country_flag = mspart_I_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG I Mk. 8" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_I_8/8
			}
		}
		
		if = { limit = { original_tag = ENG }
			
			if = { limit = { NOT = { has_country_flag = mspart_I_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Centaur Mk. I" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_I_1/8
			}
			if = { limit = { has_country_flag = mspart_I_1/8 NOT = { has_country_flag = mspart_I_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Centaur Mk. II" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_I_2/8
			}
			if = { limit = { has_country_flag = mspart_I_2/8 NOT = { has_country_flag = mspart_I_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "Centaur Mk. III" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_I_3/8
			}
			if = { limit = { has_country_flag = mspart_I_3/8 NOT = { has_country_flag = mspart_I_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Centaur Mk. IV" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_I_4/8
			}
			if = { limit = { has_country_flag = mspart_I_4/8 NOT = { has_country_flag = mspart_I_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "Centaur Mk. V" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_I_5/8
			}
			if = { limit = { has_country_flag = mspart_I_5/8 NOT = { has_country_flag = mspart_I_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Centaur Mk. VI" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_I_6/8
			}
			if = { limit = { has_country_flag = mspart_I_6/8 NOT = { has_country_flag = mspart_I_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "Centaur Mk. VII" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_I_7/8
			}
			if = { limit = { has_country_flag = mspart_I_7/8 NOT = { has_country_flag = mspart_I_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "Centaur Mk. VIII" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_I_8/8
			}
		}
		
		if = { limit = { original_tag = FRA }
			
			if = { limit = { NOT = { has_country_flag = mspart_I_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "ARL V39 série A" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_I_1/8
			}
			if = { limit = { has_country_flag = mspart_I_1/8 NOT = { has_country_flag = mspart_I_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "ARL V39 série B" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_I_2/8
			}
			if = { limit = { has_country_flag = mspart_I_2/8 NOT = { has_country_flag = mspart_I_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "ARL V39 série C" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_I_3/8
			}
			if = { limit = { has_country_flag = mspart_I_3/8 NOT = { has_country_flag = mspart_I_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "ARL V39 série D" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_I_4/8
			}
			if = { limit = { has_country_flag = mspart_I_4/8 NOT = { has_country_flag = mspart_I_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "ARL V39 série E" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_I_5/8
			}
			if = { limit = { has_country_flag = mspart_I_5/8 NOT = { has_country_flag = mspart_I_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "ARL V39 série F" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_I_6/8
			}
			if = { limit = { has_country_flag = mspart_I_6/8 NOT = { has_country_flag = mspart_I_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "ARL V39 série G" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_I_7/8
			}
			if = { limit = { has_country_flag = mspart_I_7/8 NOT = { has_country_flag = mspart_I_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "ARL V39 série H" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_I_8/8
			}
		}
		
		if = { limit = { original_tag = USA }
			
			if = { limit = { NOT = { has_country_flag = mspart_I_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M7 Priest A1" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_I_1/8
			}
			if = { limit = { has_country_flag = mspart_I_1/8 NOT = { has_country_flag = mspart_I_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M7 Priest A2" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_I_2/8
			}
			if = { limit = { has_country_flag = mspart_I_2/8 NOT = { has_country_flag = mspart_I_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M7 Priest A3" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_I_3/8
			}
			if = { limit = { has_country_flag = mspart_I_3/8 NOT = { has_country_flag = mspart_I_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M7 Priest A4" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_I_4/8
			}
			if = { limit = { has_country_flag = mspart_I_4/8 NOT = { has_country_flag = mspart_I_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M7 Priest A5" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_I_5/8
			}
			if = { limit = { has_country_flag = mspart_I_5/8 NOT = { has_country_flag = mspart_I_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M7 Priest A6" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_I_6/8
			}
			if = { limit = { has_country_flag = mspart_I_6/8 NOT = { has_country_flag = mspart_I_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M7 Priest A7" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_I_7/8
			}
			if = { limit = { has_country_flag = mspart_I_7/8 NOT = { has_country_flag = mspart_I_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M7 Priest A8" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_I_8/8
			}
		}
		
		if = { limit = { original_tag = GER }
			
			if = { limit = { NOT = { has_country_flag = mspart_I_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Grille Ausf. A" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_I_1/8
			}
			if = { limit = { has_country_flag = mspart_I_1/8 NOT = { has_country_flag = mspart_I_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Grille Ausf. B" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_I_2/8
			}
			if = { limit = { has_country_flag = mspart_I_2/8 NOT = { has_country_flag = mspart_I_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "Grille Ausf. C" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_I_3/8
			}
			if = { limit = { has_country_flag = mspart_I_3/8 NOT = { has_country_flag = mspart_I_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Grille Ausf. D" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_I_4/8
			}
			if = { limit = { has_country_flag = mspart_I_4/8 NOT = { has_country_flag = mspart_I_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "Grille Ausf. E" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_I_5/8
			}
			if = { limit = { has_country_flag = mspart_I_5/8 NOT = { has_country_flag = mspart_I_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Grille Ausf. F" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_I_6/8
			}
			if = { limit = { has_country_flag = mspart_I_6/8 NOT = { has_country_flag = mspart_I_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "Grille Ausf. G" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_I_7/8
			}
			if = { limit = { has_country_flag = mspart_I_7/8 NOT = { has_country_flag = mspart_I_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "Grille Ausf. H" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_I_8/8
			}
		}
		
		if = { limit = { original_tag = ITA }
			
			if = { limit = { NOT = { has_country_flag = mspart_I_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG I serie I" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_I_1/8
			}
			if = { limit = { has_country_flag = mspart_I_1/8 NOT = { has_country_flag = mspart_I_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG I serie II" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_I_2/8
			}
			if = { limit = { has_country_flag = mspart_I_2/8 NOT = { has_country_flag = mspart_I_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG I serie III" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_I_3/8
			}
			if = { limit = { has_country_flag = mspart_I_3/8 NOT = { has_country_flag = mspart_I_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG I serie IV" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_I_4/8
			}
			if = {	 limit = { has_country_flag = mspart_I_4/8 NOT = { has_country_flag = mspart_I_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG I serie V" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_I_5/8
			}
			if = { limit = { has_country_flag = mspart_I_5/8 NOT = { has_country_flag = mspart_I_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG I serie VI" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_I_6/8
			}
			if = { limit = { has_country_flag = mspart_I_6/8 NOT = { has_country_flag = mspart_I_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG I serie VII" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_I_7/8
			}
			if = { limit = { has_country_flag = mspart_I_7/8 NOT = { has_country_flag = mspart_I_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG I serie VIII" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_I_8/8
			}
		}
		
		if = { limit = { original_tag = JAP }
			
			if = { limit = { NOT = { has_country_flag = mspart_I_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Ho-I Mk1" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_I_1/8
			}
			if = { limit = { has_country_flag = mspart_I_1/8 NOT = { has_country_flag = mspart_I_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Ho-I Mk2" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_I_2/8
			}
			if = { limit = { has_country_flag = mspart_I_2/8 NOT = { has_country_flag = mspart_I_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "Ho-I Mk3" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_I_3/8
			}
			if = { limit = { has_country_flag = mspart_I_3/8 NOT = { has_country_flag = mspart_I_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Ho-I Mk4" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_I_4/8
			}
			if = { limit = { has_country_flag = mspart_I_4/8 NOT = { has_country_flag = mspart_I_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "Ho-I Mk5" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_I_5/8
			}
			if = { limit = { has_country_flag = mspart_I_5/8 NOT = { has_country_flag = mspart_I_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Ho-I Mk6" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_I_6/8
			}
			if = { limit = { has_country_flag = mspart_I_6/8 NOT = { has_country_flag = mspart_I_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "Ho-I Mk7" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_I_7/8
			}
			if = { limit = { has_country_flag = mspart_I_7/8 NOT = { has_country_flag = mspart_I_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "Ho-I Mk8" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_I_8/8
			}
		}
		
		if = { limit = { original_tag = SOV }
			
			if = { limit = { NOT = { has_country_flag = mspart_I_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "SU-76-32 A" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_I_1/8
			}
			if = { limit = { has_country_flag = mspart_I_1/8 NOT = { has_country_flag = mspart_I_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "SU-76-32 B" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_I_2/8
			}
			if = { limit = { has_country_flag = mspart_I_2/8 NOT = { has_country_flag = mspart_I_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "SU-76-32 C" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_I_3/8
			}
			if = { limit = { has_country_flag = mspart_I_3/8 NOT = { has_country_flag = mspart_I_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "SU-76-32 D" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_I_4/8
			}
			if = { limit = { has_country_flag = mspart_I_4/8 NOT = { has_country_flag = mspart_I_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "SU-76-32 E" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_I_5/8
			}
			if = { limit = { has_country_flag = mspart_I_5/8 NOT = { has_country_flag = mspart_I_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "SU-76-32 F" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_I_6/8
			}
			if = { limit = { has_country_flag = mspart_I_6/8 NOT = { has_country_flag = mspart_I_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "SU-76-32 G" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_I_7/8
			}
			if = { limit = { has_country_flag = mspart_I_7/8 NOT = { has_country_flag = mspart_I_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "SU-76-32 H" type = medium_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_I_8/8
			}
		}
	}
	
	option = { }
}

#M-SPART II

country_event = {
	id = EAI_V_MSPART.2
	hidden = yes
	mean_time_to_happen = { days = 10 }
	trigger = {
		is_ai = yes
		has_tech = improved_medium_art NOT = { has_tech = advanced_medium_art }
		has_army_experience > 75
		NOT = { has_country_flag = mspart_II_8/8 }
		OR = { #develop other variants first
			AND = { 
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				mspaa_developed = yes
				marm_developed = yes
			}
			NOT = { original_tag = USA original_tag = GER original_tag = SOV }
		}
		OR = { #is using mspart
			original_tag = ITA original_tag = ENG original_tag = JAP original_tag = FRA
			has_country_flag = armor_2 has_country_flag = armor_3 has_country_flag = armor_4 
		} 
	}
	
	immediate = {
		if = { limit = { NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV } }
			
			if = { limit = { NOT = { has_country_flag = mspart_II_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG II Mk. 1" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_II_1/8
			}
			if = { limit = { has_country_flag = mspart_II_1/8 NOT = { has_country_flag = mspart_II_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG II Mk. 2" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_II_2/8
			}
			if = { limit = { has_country_flag = mspart_II_2/8 NOT = { has_country_flag = mspart_II_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG II Mk. 3" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_II_3/8
			}
			if = { limit = { has_country_flag = mspart_II_3/8 NOT = { has_country_flag = mspart_II_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG II Mk. 4" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_II_4/8
			}
			if = { limit = { has_country_flag = mspart_II_4/8 NOT = { has_country_flag = mspart_II_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG II Mk. 5" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_II_5/8
			}
			if = { limit = { has_country_flag = mspart_II_5/8 NOT = { has_country_flag = mspart_II_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG II Mk. 6" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_II_6/8
			}
			if = { limit = { has_country_flag = mspart_II_6/8 NOT = { has_country_flag = mspart_II_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG II Mk. 7" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_II_7/8
			}
			if = { limit = { has_country_flag = mspart_II_7/8 NOT = { has_country_flag = mspart_II_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG II Mk. 8" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_II_8/8
			}
		}
		
		if = { limit = { original_tag = ENG }
			
			if = { limit = { NOT = { has_country_flag = mspart_II_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Avenger Mk. I" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_II_1/8
			}
			if = { limit = { has_country_flag = mspart_II_1/8 NOT = { has_country_flag = mspart_II_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Avenger Mk. II" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_II_2/8
			}
			if = { limit = { has_country_flag = mspart_II_2/8 NOT = { has_country_flag = mspart_II_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "Avenger Mk. III" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_II_3/8
			}
			if = { limit = { has_country_flag = mspart_II_3/8 NOT = { has_country_flag = mspart_II_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Avenger Mk. IV" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_II_4/8
			}
			if = { limit = { has_country_flag = mspart_II_4/8 NOT = { has_country_flag = mspart_II_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "Avenger Mk. V" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_II_5/8
			}
			if = { limit = { has_country_flag = mspart_II_5/8 NOT = { has_country_flag = mspart_II_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Avenger Mk. VI" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_II_6/8
			}
			if = { limit = { has_country_flag = mspart_II_6/8 NOT = { has_country_flag = mspart_II_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "Avenger Mk. VII" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_II_7/8
			}
			if = { limit = { has_country_flag = mspart_II_7/8 NOT = { has_country_flag = mspart_II_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "Avenger Mk. VIII" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_II_8/8
			}
		}
		
		if = { limit = { original_tag = FRA }
			
			if = { limit = { NOT = { has_country_flag = mspart_II_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG II série A" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_II_1/8
			}
			if = { limit = { has_country_flag = mspart_II_1/8 NOT = { has_country_flag = mspart_II_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG II série B" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_II_2/8
			}
			if = { limit = { has_country_flag = mspart_II_2/8 NOT = { has_country_flag = mspart_II_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG II série C" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_II_3/8
			}
			if = { limit = { has_country_flag = mspart_II_3/8 NOT = { has_country_flag = mspart_II_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG II série D" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_II_4/8
			}
			if = { limit = { has_country_flag = mspart_II_4/8 NOT = { has_country_flag = mspart_II_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG II série E" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_II_5/8
			}
			if = { limit = { has_country_flag = mspart_II_5/8 NOT = { has_country_flag = mspart_II_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG II série F" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_II_6/8
			}
			if = { limit = { has_country_flag = mspart_II_6/8 NOT = { has_country_flag = mspart_II_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG II série G" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_II_7/8
			}
			if = { limit = { has_country_flag = mspart_II_7/8 NOT = { has_country_flag = mspart_II_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG II série H" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_II_8/8
			}
		}
		
		if = { limit = { original_tag = USA }
			
			if = { limit = { NOT = { has_country_flag = mspart_II_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M12 GMC A1" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_II_1/8
			}
			if = { limit = { has_country_flag = mspart_II_1/8 NOT = { has_country_flag = mspart_II_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M12 GMC A2" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_II_2/8
			}
			if = { limit = { has_country_flag = mspart_II_2/8 NOT = { has_country_flag = mspart_II_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M12 GMC A3" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_II_3/8
			}
			if = { limit = { has_country_flag = mspart_II_3/8 NOT = { has_country_flag = mspart_II_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M12 GMC A4" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_II_4/8
			}
			if = {	 limit = { has_country_flag = mspart_II_4/8 NOT = { has_country_flag = mspart_II_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M12 GMC A5" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_II_5/8
			}
			if = { limit = { has_country_flag = mspart_II_5/8 NOT = { has_country_flag = mspart_II_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M12 GMC A6" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_II_6/8
			}
			if = { limit = { has_country_flag = mspart_II_6/8 NOT = { has_country_flag = mspart_II_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M12 GMC A7" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_II_7/8
			}
			if = { limit = { has_country_flag = mspart_II_7/8 NOT = { has_country_flag = mspart_II_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M12 GMC A8" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_II_8/8
			}
		}
		
		if = { limit = { original_tag = GER }
			
			if = { limit = { NOT = { has_country_flag = mspart_II_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Hummel Ausf. A" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_II_1/8
			}
			if = { limit = { has_country_flag = mspart_II_1/8 NOT = { has_country_flag = mspart_II_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Hummel Ausf. B" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_II_2/8
			}
			if = { limit = { has_country_flag = mspart_II_2/8 NOT = { has_country_flag = mspart_II_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "Hummel Ausf. C" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_II_3/8
			}
			if = { limit = { has_country_flag = mspart_II_3/8 NOT = { has_country_flag = mspart_II_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Hummel Ausf. D" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_II_4/8
			}
			if = { limit = { has_country_flag = mspart_II_4/8 NOT = { has_country_flag = mspart_II_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "Hummel Ausf. E" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_II_5/8
			}
			if = { limit = { has_country_flag = mspart_II_5/8 NOT = { has_country_flag = mspart_II_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Hummel Ausf. F" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_II_6/8
			}
			if = { limit = { has_country_flag = mspart_II_6/8 NOT = { has_country_flag = mspart_II_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "Hummel Ausf. G" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_II_7/8
			}
			if = { limit = { has_country_flag = mspart_II_7/8 NOT = { has_country_flag = mspart_II_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "Hummel Ausf. H" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_II_8/8
			}
		}
		
		if = { limit = { original_tag = ITA }
			
			if = { limit = { NOT = { has_country_flag = mspart_II_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG II serie I" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_II_1/8
			}
			if = { limit = { has_country_flag = mspart_II_1/8 NOT = { has_country_flag = mspart_II_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG II serie II" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_II_2/8
			}
			if = { limit = { has_country_flag = mspart_II_2/8 NOT = { has_country_flag = mspart_II_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG II serie III" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_II_3/8
			}
			if = { limit = { has_country_flag = mspart_II_3/8 NOT = { has_country_flag = mspart_II_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG II serie IV" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_II_4/8
			}
			if = { limit = { has_country_flag = mspart_II_4/8 NOT = { has_country_flag = mspart_II_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG II serie V" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_II_5/8
			}
			if = { limit = { has_country_flag = mspart_II_5/8 NOT = { has_country_flag = mspart_II_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG II serie VI" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_II_6/8
			}
			if = { limit = { has_country_flag = mspart_II_6/8 NOT = { has_country_flag = mspart_II_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG II serie VII" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_II_7/8
			}
			if = { limit = { has_country_flag = mspart_II_7/8 NOT = { has_country_flag = mspart_II_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG II serie VIII" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_II_8/8
			}
		}
		
		if = { limit = { original_tag = JAP }
			
			if = { limit = { NOT = { has_country_flag = mspart_II_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Ho-Ro Mk1" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_II_1/8
			}
			if = { limit = { has_country_flag = mspart_II_1/8 NOT = { has_country_flag = mspart_II_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Ho-Ro Mk2" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_II_2/8
			}
			if = { limit = { has_country_flag = mspart_II_2/8 NOT = { has_country_flag = mspart_II_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "Ho-Ro Mk3" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_II_3/8
			}
			if = { limit = { has_country_flag = mspart_II_3/8 NOT = { has_country_flag = mspart_II_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Ho-Ro Mk4" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_II_4/8
			}
			if = { limit = { has_country_flag = mspart_II_4/8 NOT = { has_country_flag = mspart_II_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "Ho-Ro Mk5" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_II_5/8
			}
			if = { limit = { has_country_flag = mspart_II_5/8 NOT = { has_country_flag = mspart_II_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Ho-Ro Mk6" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_II_6/8
			}
			if = { limit = { has_country_flag = mspart_II_6/8 NOT = { has_country_flag = mspart_II_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "Ho-Ro Mk7" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_II_7/8
			}
			if = { limit = { has_country_flag = mspart_II_7/8 NOT = { has_country_flag = mspart_II_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "Ho-Ro Mk8" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_II_8/8
			}
		}
		
		if = { limit = { original_tag = SOV }
			
			if = { limit = { NOT = { has_country_flag = mspart_II_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "SU-122 A" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_II_1/8
			}
			if = { limit = { has_country_flag = mspart_II_1/8 NOT = { has_country_flag = mspart_II_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "SU-122 B" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_II_2/8
			}
			if = { limit = { has_country_flag = mspart_II_2/8 NOT = { has_country_flag = mspart_II_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "SU-122 C" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_II_3/8
			}
			if = { limit = { has_country_flag = mspart_II_3/8 NOT = { has_country_flag = mspart_II_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "SU-122 D" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_II_4/8
			}
			if = { limit = { has_country_flag = mspart_II_4/8 NOT = { has_country_flag = mspart_II_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "SU-122 E" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_II_5/8
			}
			if = { limit = { has_country_flag = mspart_II_5/8 NOT = { has_country_flag = mspart_II_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "SU-122 F" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_II_6/8
			}
			if = { limit = { has_country_flag = mspart_II_6/8 NOT = { has_country_flag = mspart_II_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "SU-122 G" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_II_7/8
			}
			if = { limit = { has_country_flag = mspart_II_7/8 NOT = { has_country_flag = mspart_II_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "SU-122 H" type = medium_tank_artillery_equipment_2 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_II_8/8
			}
		}
	}
	
	option = { }
}

#M-SPART III

country_event = {
	id = EAI_V_MSPART.3
	hidden = yes
	mean_time_to_happen = { days = 10 }
	trigger = {
		is_ai = yes
		has_tech = advanced_medium_art NOT = { has_tech = modern_art }
		has_army_experience > 75
		NOT = { has_country_flag = mspart_III_8/8 }
		OR = { #develop other variants first
			AND = { 
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				mspaa_developed = yes
				marm_developed = yes
			}
			NOT = { original_tag = USA original_tag = GER original_tag = SOV }
		}
		OR = { #is using mspart
			original_tag = ITA original_tag = ENG original_tag = JAP original_tag = FRA
			has_country_flag = armor_2 has_country_flag = armor_3 has_country_flag = armor_4 
		} 
	}
	
	immediate = {
		if = { limit = { NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV } }
			
			if = { limit = { NOT = { has_country_flag = mspart_III_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG III Mk. 1" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_III_1/8
			}
			if = { limit = { has_country_flag = mspart_III_1/8 NOT = { has_country_flag = mspart_III_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG III Mk. 2" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_III_2/8
			}
			if = { limit = { has_country_flag = mspart_III_2/8 NOT = { has_country_flag = mspart_III_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG III Mk. 3" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_III_3/8
			}
			if = { limit = { has_country_flag = mspart_III_3/8 NOT = { has_country_flag = mspart_III_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG III Mk. 4" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_III_4/8
			}
			if = { limit = { has_country_flag = mspart_III_4/8 NOT = { has_country_flag = mspart_III_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG III Mk. 5" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_III_5/8
			}
			if = { limit = { has_country_flag = mspart_III_5/8 NOT = { has_country_flag = mspart_III_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG III Mk. 6" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_III_6/8
			}
			if = { limit = { has_country_flag = mspart_III_6/8 NOT = { has_country_flag = mspart_III_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG III Mk. 7" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_III_7/8
			}
			if = { limit = { has_country_flag = mspart_III_7/8 NOT = { has_country_flag = mspart_III_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG III Mk. 8" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_III_8/8
			}
		}
		
		if = { limit = { original_tag = ENG }
			
			if = { limit = { NOT = { has_country_flag = mspart_III_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Sexton Mk. I" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_III_1/8
			}
			if = { limit = { has_country_flag = mspart_III_1/8 NOT = { has_country_flag = mspart_III_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Sexton Mk. II" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_III_2/8
			}
			if = { limit = { has_country_flag = mspart_III_2/8 NOT = { has_country_flag = mspart_III_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "Sexton Mk. III" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_III_3/8
			}
			if = { limit = { has_country_flag = mspart_III_3/8 NOT = { has_country_flag = mspart_III_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Sexton Mk. IV" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_III_4/8
			}
			if = { limit = { has_country_flag = mspart_III_4/8 NOT = { has_country_flag = mspart_III_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "Sexton Mk. V" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_III_5/8
			}
			if = { limit = { has_country_flag = mspart_III_5/8 NOT = { has_country_flag = mspart_III_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Sexton Mk. VI" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_III_6/8
			}
			if = { limit = { has_country_flag = mspart_III_6/8 NOT = { has_country_flag = mspart_III_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "Sexton Mk. VII" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_III_7/8
			}
			if = { limit = { has_country_flag = mspart_III_7/8 NOT = { has_country_flag = mspart_III_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "Sexton Mk. VIII" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_III_8/8
			}
		}
		
		if = { limit = { original_tag = FRA }
			
			if = { limit = { NOT = { has_country_flag = mspart_III_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG III série A" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_III_1/8
			}
			if = { limit = { has_country_flag = mspart_III_1/8 NOT = { has_country_flag = mspart_III_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG III série B" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_III_2/8
			}
			if = { limit = { has_country_flag = mspart_III_2/8 NOT = { has_country_flag = mspart_III_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG III série C" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_III_3/8
			}
			if = { limit = { has_country_flag = mspart_III_3/8 NOT = { has_country_flag = mspart_III_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG III série D" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_III_4/8
			}
			if = { limit = { has_country_flag = mspart_III_4/8 NOT = { has_country_flag = mspart_III_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG III série E" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_III_5/8
			}
			if = { limit = { has_country_flag = mspart_III_5/8 NOT = { has_country_flag = mspart_III_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG III série F" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_III_6/8
			}
			if = { limit = { has_country_flag = mspart_III_6/8 NOT = { has_country_flag = mspart_III_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG III série G" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_III_7/8
			}
			if = { limit = { has_country_flag = mspart_III_7/8 NOT = { has_country_flag = mspart_III_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG III série H" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_III_8/8
			}
		}
		
		if = { limit = { original_tag = USA }
			
			if = { limit = { NOT = { has_country_flag = mspart_III_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M40 GMC A1" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_III_1/8
			}
			if = { limit = { has_country_flag = mspart_III_1/8 NOT = { has_country_flag = mspart_III_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M40 GMC A2" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_III_2/8
			}
			if = { limit = { has_country_flag = mspart_III_2/8 NOT = { has_country_flag = mspart_III_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M40 GMC A3" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_III_3/8
			}
			if = { limit = { has_country_flag = mspart_III_3/8 NOT = { has_country_flag = mspart_III_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M40 GMC A4" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_III_4/8
			}
			if = { limit = { has_country_flag = mspart_III_4/8 NOT = { has_country_flag = mspart_III_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M40 GMC A5" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_III_5/8
			}
			if = { limit = { has_country_flag = mspart_III_5/8 NOT = { has_country_flag = mspart_III_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M40 GMC A6" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_III_6/8
			}
			if = { limit = { has_country_flag = mspart_III_6/8 NOT = { has_country_flag = mspart_III_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M40 GMC A7" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_III_7/8
			}
			if = { limit = { has_country_flag = mspart_III_7/8 NOT = { has_country_flag = mspart_III_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M40 GMC A8" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_III_8/8
			}
		}
		
		if = { limit = { original_tag = GER }
			
			if = { limit = { NOT = { has_country_flag = mspart_III_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Grille 12 Ausf. A" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_III_1/8
			}
			if = { limit = { has_country_flag = mspart_III_1/8 NOT = { has_country_flag = mspart_III_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Grille 12 Ausf. B" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_III_2/8
			}
			if = { limit = { has_country_flag = mspart_III_2/8 NOT = { has_country_flag = mspart_III_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "Grille 12 Ausf. C" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_III_3/8
			}
			if = { limit = { has_country_flag = mspart_III_3/8 NOT = { has_country_flag = mspart_III_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Grille 12 Ausf. D" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_III_4/8
			}
			if = { limit = { has_country_flag = mspart_III_4/8 NOT = { has_country_flag = mspart_III_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "Grille 12 Ausf. E" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_III_5/8
			}
			if = { limit = { has_country_flag = mspart_III_5/8 NOT = { has_country_flag = mspart_III_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Grille 12 Ausf. F" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_III_6/8
			}
			if = { limit = { has_country_flag = mspart_III_6/8 NOT = { has_country_flag = mspart_III_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "Grille 12 Ausf. G" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_III_7/8
			}
			if = { limit = { has_country_flag = mspart_III_7/8 NOT = { has_country_flag = mspart_III_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "Grille 12 Ausf. H" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_III_8/8
			}
		}
		
		if = { limit = { original_tag = ITA }
			
			if = { limit = { NOT = { has_country_flag = mspart_III_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG III serie I" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_III_1/8
			}
			if = { limit = { has_country_flag = mspart_III_1/8 NOT = { has_country_flag = mspart_III_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG III serie II" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_III_2/8
			}
			if = { limit = { has_country_flag = mspart_III_2/8 NOT = { has_country_flag = mspart_III_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG III serie III" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_III_3/8
			}
			if = { limit = { has_country_flag = mspart_III_3/8 NOT = { has_country_flag = mspart_III_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG III serie IV" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_III_4/8
			}
			if = { limit = { has_country_flag = mspart_III_4/8 NOT = { has_country_flag = mspart_III_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG III serie V" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_III_5/8
			}
			if = { limit = { has_country_flag = mspart_III_5/8 NOT = { has_country_flag = mspart_III_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG III serie VI" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_III_6/8
			}
			if = { limit = { has_country_flag = mspart_III_6/8 NOT = { has_country_flag = mspart_III_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG III serie VII" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_III_7/8
			}
			if = { limit = { has_country_flag = mspart_III_7/8 NOT = { has_country_flag = mspart_III_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG III serie VIII" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_III_8/8
			}
		}
		
		if = { limit = { original_tag = JAP }
			
			if = { limit = { NOT = { has_country_flag = mspart_III_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Ha-To Mk1" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_III_1/8
			}
			if = { limit = { has_country_flag = mspart_III_1/8 NOT = { has_country_flag = mspart_III_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Ha-To Mk2" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_III_2/8
			}
			if = { limit = { has_country_flag = mspart_III_2/8 NOT = { has_country_flag = mspart_III_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "Ha-To Mk3" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_III_3/8
			}
			if = { limit = { has_country_flag = mspart_III_3/8 NOT = { has_country_flag = mspart_III_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Ha-To Mk4" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_III_4/8
			}
			if = { limit = { has_country_flag = mspart_III_4/8 NOT = { has_country_flag = mspart_III_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "Ha-To Mk5" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_III_5/8
			}
			if = { limit = { has_country_flag = mspart_III_5/8 NOT = { has_country_flag = mspart_III_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Ha-To Mk6" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_III_6/8
			}
			if = { limit = { has_country_flag = mspart_III_6/8 NOT = { has_country_flag = mspart_III_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "Ha-To Mk7" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_III_7/8
			}
			if = { limit = { has_country_flag = mspart_III_7/8 NOT = { has_country_flag = mspart_III_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "Ha-To Mk8" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_III_8/8
			}
		}
		
		if = { limit = { original_tag = SOV }
			
			if = { limit = { NOT = { has_country_flag = mspart_III_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "SU-152-44 A" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_III_1/8
			}
			if = { limit = { has_country_flag = mspart_III_1/8 NOT = { has_country_flag = mspart_III_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "SU-152-44 B" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_III_2/8
			}
			if = { limit = { has_country_flag = mspart_III_2/8 NOT = { has_country_flag = mspart_III_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "SU-152-44 C" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_III_3/8
			}
			if = { limit = { has_country_flag = mspart_III_3/8 NOT = { has_country_flag = mspart_III_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "SU-152-44 D" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_III_4/8
			}
			if = { limit = { has_country_flag = mspart_III_4/8 NOT = { has_country_flag = mspart_III_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "SU-152-44 E" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_III_5/8
			}
			if = { limit = { has_country_flag = mspart_III_5/8 NOT = { has_country_flag = mspart_III_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "SU-152-44 F" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_III_6/8
			}
			if = { limit = { has_country_flag = mspart_III_6/8 NOT = { has_country_flag = mspart_III_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "SU-152-44 G" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_III_7/8
			}
			if = { limit = { has_country_flag = mspart_III_7/8 NOT = { has_country_flag = mspart_III_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "SU-152-44 H" type = medium_tank_artillery_equipment_3 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_III_8/8
			}
		}
	}
	
	option = { }
}

#M-SPART IV

country_event = {
	id = EAI_V_MSPART.4
	hidden = yes
	mean_time_to_happen = { days = 10 }
	trigger = {
		is_ai = yes
		has_tech = modern_art
		has_army_experience > 75
		NOT = { has_country_flag = mspart_IV_8/8 }
		OR = { #develop other variants first
			AND = { 
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				mspaa_developed = yes
				marm_developed = yes
			}
			NOT = { original_tag = USA original_tag = GER original_tag = SOV }
		}
		OR = { #is using mspart
			original_tag = ITA original_tag = ENG original_tag = JAP original_tag = FRA
			has_country_flag = armor_2 has_country_flag = armor_3 has_country_flag = armor_4 
		} 
	}
	
	immediate = {
		if = { limit = { NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV } }
			
			if = { limit = { NOT = { has_country_flag = mspart_IV_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV Mk. 1" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_IV_1/8
			}
			if = { limit = { has_country_flag = mspart_IV_1/8 NOT = { has_country_flag = mspart_IV_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV Mk. 2" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_IV_2/8
			}
			if = { limit = { has_country_flag = mspart_IV_2/8 NOT = { has_country_flag = mspart_IV_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG IV Mk. 3" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_IV_3/8
			}
			if = { limit = { has_country_flag = mspart_IV_3/8 NOT = { has_country_flag = mspart_IV_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV Mk. 4" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_IV_4/8
			}
			if = { limit = { has_country_flag = mspart_IV_4/8 NOT = { has_country_flag = mspart_IV_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG IV Mk. 5" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_IV_5/8
			}
			if = { limit = { has_country_flag = mspart_IV_5/8 NOT = { has_country_flag = mspart_IV_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV Mk. 6" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_IV_6/8
			}
			if = { limit = { has_country_flag = mspart_IV_6/8 NOT = { has_country_flag = mspart_IV_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG IV Mk. 7" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_IV_7/8
			}
			if = { limit = { has_country_flag = mspart_IV_7/8 NOT = { has_country_flag = mspart_IV_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG IV Mk. 8" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_IV_8/8
			}
		}
		
		if = { limit = { original_tag = ENG }
			
			if = { limit = { NOT = { has_country_flag = mspart_IV_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Centurion AVRE Mk. I" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_IV_1/8
			}
			if = { limit = { has_country_flag = mspart_IV_1/8 NOT = { has_country_flag = mspart_IV_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Centurion AVRE Mk. II" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_IV_2/8
			}
			if = { limit = { has_country_flag = mspart_IV_2/8 NOT = { has_country_flag = mspart_IV_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "Centurion AVRE Mk. III" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_IV_3/8
			}
			if = { limit = { has_country_flag = mspart_IV_3/8 NOT = { has_country_flag = mspart_IV_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "Centurion AVRE Mk. IV" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_IV_4/8
			}
			if = { limit = { has_country_flag = mspart_IV_4/8 NOT = { has_country_flag = mspart_IV_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "Centurion AVRE Mk. V" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_IV_5/8
			}
			if = { limit = { has_country_flag = mspart_IV_5/8 NOT = { has_country_flag = mspart_IV_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "Centurion AVRE Mk. VI" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_IV_6/8
			}
			if = { limit = { has_country_flag = mspart_IV_6/8 NOT = { has_country_flag = mspart_IV_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "Centurion AVRE Mk. VII" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_IV_7/8
			}
			if = { limit = { has_country_flag = mspart_IV_7/8 NOT = { has_country_flag = mspart_IV_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "Centurion AVRE Mk. VIII" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_IV_8/8
			}
		}
		
		if = { limit = { original_tag = FRA }
			
			if = { limit = { NOT = { has_country_flag = mspart_IV_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV série A" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_IV_1/8
			}
			if = { limit = { has_country_flag = mspart_IV_1/8 NOT = { has_country_flag = mspart_IV_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV série B" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_IV_2/8
			}
			if = { limit = { has_country_flag = mspart_IV_2/8 NOT = { has_country_flag = mspart_IV_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG IV série C" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_IV_3/8
			}
			if = { limit = { has_country_flag = mspart_IV_3/8 NOT = { has_country_flag = mspart_IV_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV série D" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_IV_4/8
			}
			if = { limit = { has_country_flag = mspart_IV_4/8 NOT = { has_country_flag = mspart_IV_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG IV série E" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_IV_5/8
			}
			if = { limit = { has_country_flag = mspart_IV_5/8 NOT = { has_country_flag = mspart_IV_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV série F" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_IV_6/8
			}
			if = { limit = { has_country_flag = mspart_IV_6/8 NOT = { has_country_flag = mspart_IV_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG IV série G" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_IV_7/8
			}
			if = { limit = { has_country_flag = mspart_IV_7/8 NOT = { has_country_flag = mspart_IV_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG IV série H" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_IV_8/8
			}
		}
		
		if = { limit = { original_tag = USA }
			
			if = { limit = { NOT = { has_country_flag = mspart_IV_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV A1" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_IV_1/8
			}
			if = { limit = { has_country_flag = mspart_IV_1/8 NOT = { has_country_flag = mspart_IV_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV A2" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_IV_2/8
			}
			if = { limit = { has_country_flag = mspart_IV_2/8 NOT = { has_country_flag = mspart_IV_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG IV A3" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_IV_3/8
			}
			if = { limit = { has_country_flag = mspart_IV_3/8 NOT = { has_country_flag = mspart_IV_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV A4" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_IV_4/8
			}
			if = { limit = { has_country_flag = mspart_IV_4/8 NOT = { has_country_flag = mspart_IV_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG IV A5" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_IV_5/8
			}
			if = { limit = { has_country_flag = mspart_IV_5/8 NOT = { has_country_flag = mspart_IV_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV A6" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_IV_6/8
			}
			if = { limit = { has_country_flag = mspart_IV_6/8 NOT = { has_country_flag = mspart_IV_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG IV A7" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_IV_7/8
			}
			if = { limit = { has_country_flag = mspart_IV_7/8 NOT = { has_country_flag = mspart_IV_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG IV A8" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_IV_8/8
			}
		}
		
		if = { limit = { original_tag = GER }
			
			if = { limit = { NOT = { has_country_flag = mspart_IV_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV Ausf. A" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_IV_1/8
			}
			if = { limit = { has_country_flag = mspart_IV_1/8 NOT = { has_country_flag = mspart_IV_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV Ausf. B" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_IV_2/8
			}
			if = { limit = { has_country_flag = mspart_IV_2/8 NOT = { has_country_flag = mspart_IV_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG IV Ausf. C" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_IV_3/8
			}
			if = { limit = { has_country_flag = mspart_IV_3/8 NOT = { has_country_flag = mspart_IV_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV Ausf. D" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_IV_4/8
			}
			if = { limit = { has_country_flag = mspart_IV_4/8 NOT = { has_country_flag = mspart_IV_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG IV Ausf. E" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_IV_5/8
			}
			if = { limit = { has_country_flag = mspart_IV_5/8 NOT = { has_country_flag = mspart_IV_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV Ausf. F" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_IV_6/8
			}
			if = { limit = { has_country_flag = mspart_IV_6/8 NOT = { has_country_flag = mspart_IV_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG IV Ausf. G" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_IV_7/8
			}
			if = { limit = { has_country_flag = mspart_IV_7/8 NOT = { has_country_flag = mspart_IV_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG IV Ausf. H" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_IV_8/8
			}
		}
		
		if = { limit = { original_tag = ITA }
			
			if = { limit = { NOT = { has_country_flag = mspart_IV_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV serie I" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_IV_1/8
			}
			if = { limit = { has_country_flag = mspart_IV_1/8 NOT = { has_country_flag = mspart_IV_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV serie II" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_IV_2/8
			}
			if = { limit = { has_country_flag = mspart_IV_2/8 NOT = { has_country_flag = mspart_IV_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG IV serie III" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_IV_3/8
			}
			if = { limit = { has_country_flag = mspart_IV_3/8 NOT = { has_country_flag = mspart_IV_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV serie IV" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_IV_4/8
			}
			if = { limit = { has_country_flag = mspart_IV_4/8 NOT = { has_country_flag = mspart_IV_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG IV serie V" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_IV_5/8
			}
			if = { limit = { has_country_flag = mspart_IV_5/8 NOT = { has_country_flag = mspart_IV_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV serie VI" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_IV_6/8
			}
			if = { limit = { has_country_flag = mspart_IV_6/8 NOT = { has_country_flag = mspart_IV_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG IV serie VII" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_IV_7/8
			}
			if = { limit = { has_country_flag = mspart_IV_7/8 NOT = { has_country_flag = mspart_IV_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG IV serie VIII" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_IV_8/8
			}
		}
		
		if = { limit = { original_tag = JAP }
			
			if = { limit = { NOT = { has_country_flag = mspart_IV_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV Mk1" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_IV_1/8
			}
			if = { limit = { has_country_flag = mspart_IV_1/8 NOT = { has_country_flag = mspart_IV_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV Mk2" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_IV_2/8
			}
			if = { limit = { has_country_flag = mspart_IV_2/8 NOT = { has_country_flag = mspart_IV_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "M-SPG IV Mk3" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_IV_3/8
			}
			if = { limit = { has_country_flag = mspart_IV_3/8 NOT = { has_country_flag = mspart_IV_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "M-SPG IV Mk4" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_IV_4/8
			}
			if = { limit = { has_country_flag = mspart_IV_4/8 NOT = { has_country_flag = mspart_IV_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "M-SPG IV Mk5" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_IV_5/8
			}
			if = { limit = { has_country_flag = mspart_IV_5/8 NOT = { has_country_flag = mspart_IV_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "M-SPG IV Mk6" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_IV_6/8
			}
			if = { limit = { has_country_flag = mspart_IV_6/8 NOT = { has_country_flag = mspart_IV_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "M-SPG IV Mk7" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_IV_7/8
			}
			if = { limit = { has_country_flag = mspart_IV_7/8 NOT = { has_country_flag = mspart_IV_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "M-SPG IV Mk8" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_IV_8/8
			}
		}
		
		if = { limit = { original_tag = SOV }
			
			if = { limit = { NOT = { has_country_flag = mspart_IV_1/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "SU-152-44 A" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 2 tank_art_upgrade = 1 tank_reliability_upgrade = 0 } }
				army_experience = -45 set_country_flag = mspart_IV_1/8
			}
			if = { limit = { has_country_flag = mspart_IV_1/8 NOT = { has_country_flag = mspart_IV_2/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "SU-152-44 B" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 2 tank_reliability_upgrade = 0 } }
				army_experience = -55 set_country_flag = mspart_IV_2/8
			}
			if = { limit = { has_country_flag = mspart_IV_2/8 NOT = { has_country_flag = mspart_IV_3/8 } has_army_experience > 75 }
				create_equipment_variant = { name = "SU-152-44 C" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 3 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -75 set_country_flag = mspart_IV_3/8
			}
			if = { limit = { has_country_flag = mspart_IV_3/8 NOT = { has_country_flag = mspart_IV_4/8 } has_army_experience > 45 }
				create_equipment_variant = { name = "SU-152-44 D" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 3 tank_reliability_upgrade = 1 } }
				army_experience = -45 set_country_flag = mspart_IV_4/8
			}
			if = { limit = { has_country_flag = mspart_IV_4/8 NOT = { has_country_flag = mspart_IV_5/8 } has_army_experience > 50 }
				create_equipment_variant = { name = "SU-152-44 E" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 1 } }
				army_experience = -50 set_country_flag = mspart_IV_5/8
			}
			if = { limit = { has_country_flag = mspart_IV_5/8 NOT = { has_country_flag = mspart_IV_6/8 } has_army_experience > 55 }
				create_equipment_variant = { name = "SU-152-44 F" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 4 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -55 set_country_flag = mspart_IV_6/8
			}
			if = { limit = { has_country_flag = mspart_IV_6/8 NOT = { has_country_flag = mspart_IV_7/8 } has_army_experience > 60 }
				create_equipment_variant = { name = "SU-152-44 G" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 4 tank_reliability_upgrade = 2 } }
				army_experience = -60 set_country_flag = mspart_IV_7/8
			}
			if = { limit = { has_country_flag = mspart_IV_7/8 NOT = { has_country_flag = mspart_IV_8/8 } has_army_experience > 65 }
				create_equipment_variant = { name = "SU-152-44 H" type = modern_tank_artillery_equipment_1 upgrades = { tank_engine_upgrade = 0 tank_armor_upgrade = 5 tank_art_upgrade = 5 tank_reliability_upgrade = 2 } }
				army_experience = -65 set_country_flag = mspart_IV_8/8
			}
		}
	}
	
	option = { }
}