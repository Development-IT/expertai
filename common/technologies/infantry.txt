technologies = {
	
	@1918 = 0
	@1936 = 2
	@1938 = 4
	@1939 = 6
	@1940 = 8
	@1941 = 10
	@1942 = 12
	@1943 = 14
	@1944 = 16
	@1945 = 18
	@1946 = 20

	infantry_weapons = {

		enable_equipments = {
			infantry_equipment_0
		}
		
		enable_subunits = {
			infantry
		}
		
		path = {
			leads_to_tech = infantry_weapons1
			research_cost_coeff = 1
		}		

		research_cost = 1.5
		start_year = 1918
		folder = {
			name = infantry_folder
			position = { x = 0 y = -1 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #tech goals for certain countries before taking this
				factor = 0
				OR = {
					AND = { original_tag = ENG NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ENG NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
				
					AND = { original_tag = GER NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying } }
					
					AND = { original_tag = ITA NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ITA NOT = { has_tech = floating_fortress_ti is_researching_technology = floating_fortress_ti is_researching_technology = battlefleet_concentration_ti is_researching_technology = capital_ship_raiders is_researching_technology = raider_patrols } }
					
					AND = { original_tag = SOV NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying  } }
					
					AND = { original_tag = JAP NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
					AND = { original_tag = JAP NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					
					AND = { original_tag = USA NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike  } }
				}
			}
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	infantry_weapons1 = {

		enable_equipments = {
			infantry_equipment_1
		}
				
		path = {
			leads_to_tech = infantry_weapons2
			research_cost_coeff = 1
		}		

		research_cost = 1.5
		start_year = 1936
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1936 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #tech goals for certain countries before taking this
				factor = 0
				OR = {
					AND = { original_tag = ENG NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ENG NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
				
					AND = { original_tag = GER NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying } }
					
					AND = { original_tag = ITA NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ITA NOT = { has_tech = floating_fortress_ti is_researching_technology = floating_fortress_ti is_researching_technology = battlefleet_concentration_ti is_researching_technology = capital_ship_raiders is_researching_technology = raider_patrols } }
					
					AND = { original_tag = SOV NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying  } }
					
					AND = { original_tag = JAP NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
					AND = { original_tag = JAP NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					
					AND = { original_tag = USA NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike  } }
				}
			}
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 has_equipment = { infantry_equipment < 50000 } } #don't research with low stockpiles
		}
	}	
	
	infantry_weapons2 = {

		category_light_infantry = {
			soft_attack = 0.05
		}
		
		cavalry = {
			soft_attack = 0.05
		}
		
		motorized = {
			soft_attack = 0.05
		}
		
		mechanized = {
			soft_attack = 0.05
		}
		
		path = {
			leads_to_tech = improved_infantry_weapons
			research_cost_coeff = 1
		}		

		research_cost = 1.5
		start_year = 1938
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1938 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #tech goals for certain countries before taking this
				factor = 0
				OR = {
					AND = { original_tag = ENG NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ENG NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
				
					AND = { original_tag = GER NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying } }
					
					AND = { original_tag = ITA NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ITA NOT = { has_tech = floating_fortress_ti is_researching_technology = floating_fortress_ti is_researching_technology = battlefleet_concentration_ti is_researching_technology = capital_ship_raiders is_researching_technology = raider_patrols } }
					
					AND = { original_tag = SOV NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying  } }
					
					AND = { original_tag = JAP NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
					AND = { original_tag = JAP NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					
					AND = { original_tag = USA NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike  } }
				}
			}
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1938.1.1 }
			modifier = { #prioritise air
				factor = 0 
				OR = { NOT = { has_tech = fighter1 is_researching_technology = fighter1 } NOT = { has_tech = tactical_bomber1 is_researching_technology = tactical_bomber1 has_tech = CAS1 is_researching_technology = CAS1 } }
				OR = { original_tag = ENG original_tag = USA original_tag = GER original_tag = SOV } 
			}
		}
	}
	
	improved_infantry_weapons = {

		enable_equipments = {
			infantry_equipment_2
		}
		
		path = {
			leads_to_tech = improved_infantry_weapons_2
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = infantry_at
			research_cost_coeff = 1
		}		

		research_cost = 2
		start_year = 1939
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1939 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #tech goals for certain countries before taking this
				factor = 0
				OR = {
					AND = { original_tag = ENG NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ENG NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
				
					AND = { original_tag = GER NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying } }
					
					AND = { original_tag = ITA NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ITA NOT = { has_tech = floating_fortress_ti is_researching_technology = floating_fortress_ti is_researching_technology = battlefleet_concentration_ti is_researching_technology = capital_ship_raiders is_researching_technology = raider_patrols } }
					
					AND = { original_tag = SOV NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying  } }
					
					AND = { original_tag = JAP NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
					AND = { original_tag = JAP NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					
					AND = { original_tag = USA NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike  } }
				}
			}
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1939.1.1 }
			modifier = { #prioritise air
				factor = 0 
				OR = { NOT = { has_tech = fighter1 is_researching_technology = fighter1 } NOT = { has_tech = tactical_bomber1 is_researching_technology = tactical_bomber1 has_tech = CAS1 is_researching_technology = CAS1 } }
				OR = { original_tag = ENG original_tag = USA original_tag = GER original_tag = SOV } 
			}
			modifier = { factor = 0 has_equipment = { infantry_equipment < 50000 } } #don't research with low stockpiles
		}
	}
	improved_infantry_weapons_2 = {

		category_light_infantry = {
			soft_attack = 0.05
		}
		
		cavalry = {
			soft_attack = 0.05
		}
		
		motorized = {
			soft_attack = 0.05
		}
		
		mechanized = {
			soft_attack = 0.05
		}
		
		path = {
			leads_to_tech = advanced_infantry_weapons
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1940
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1940 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #tech goals for certain countries before taking this
				factor = 0
				OR = {
					AND = { original_tag = ENG NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ENG NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
				
					AND = { original_tag = GER NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying } }
					
					AND = { original_tag = ITA NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ITA NOT = { has_tech = floating_fortress_ti is_researching_technology = floating_fortress_ti is_researching_technology = battlefleet_concentration_ti is_researching_technology = capital_ship_raiders is_researching_technology = raider_patrols } }
					
					AND = { original_tag = SOV NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying  } }
					
					AND = { original_tag = JAP NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
					AND = { original_tag = JAP NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					
					AND = { original_tag = USA NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike  } }
				}
			}
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1940.1.1 }
		}
	}
	
	infantry_at = {

		category_all_infantry = {
			hard_attack = 0.25
			ap_attack = 1
		}
		
		path = {
			leads_to_tech = infantry_at2
			research_cost_coeff = 1
		}

		research_cost = 1.5
		start_year = 1942
		folder = {
			name = infantry_folder
			position = { x = 2 y = @1942 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1941.6.1 }
			#modifier = { #date, use research bonus
			#	factor = 0
			#	OR = { 
			#		AND = { date < 1939.1.1 OR = { has_tech_bonus = infantry_weapons } }
			#		AND = { date < 1941.6.1 NOT = { has_tech_bonus = infantry_weapons } }
			#	}
			#}
		}
	}
	
	infantry_at2 = {

		category_all_infantry = {
			hard_attack = 0.25
			ap_attack = 1
		}
		
		research_cost = 1.5
		start_year = 1943
		folder = {
			name = infantry_folder
			position = { x = 2 y = @1943 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1942.6.1 }
			#modifier = { #date, use research bonus
			#	factor = 0
			#	OR = { 
			#		AND = { date < 1940.1.1 OR = { has_tech_bonus = infantry_weapons } }
			#		AND = { date < 1942.6.1 NOT = { has_tech_bonus = infantry_weapons } }
			#	}
			#}
		}
	}
	
	advanced_infantry_weapons = {

		enable_equipments = {
			infantry_equipment_3
		}	
		
		path = {
			leads_to_tech = advanced_infantry_weapons2
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1942
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1942 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1942.1.1 }
			modifier = { factor = 0 has_equipment = { infantry_equipment < 50000 } } #don't research with low stockpiles
		}
	}
	
	advanced_infantry_weapons2 = {

		category_light_infantry = {
			soft_attack = 0.05
		}
		cavalry = {
			soft_attack = 0.1
		}		


		motorized = {
			soft_attack = 0.1
		}
		mechanized = {
			soft_attack = 0.1
		}		

		research_cost = 1.5
		start_year = 1944
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1944 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1944.1.1 }
		}
	}
	
	paratroopers = {

		enable_subunits = {
			paratrooper
		}
		
		path = {
			leads_to_tech = paratroopers2
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1936
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1936 }
		}
		
		on_research_complete = {
			limit = {
				NOT = {
					has_template_containing_unit = paratrooper
				}
			}
			hidden_effect = {
				load_oob = "unlock_paratroopers"
			}
			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}
		
		categories = {
			para_tech
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	paratroopers2 = {

		paratrooper = {
			max_organisation = 5
			soft_attack = 0.05
		}
		
		path = {
			leads_to_tech = paratroopers3
			research_cost_coeff = 1
		}

		research_cost = 1.5
		start_year = 1939
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1939 }
		}
		
		categories = {
			para_tech
		}
		
		ai_will_do = {
			factor = 0
		}
	}

	paratroopers3 = {

		paratrooper = {
			max_organisation = 5
		}
		

		research_cost = 2.0
		start_year = 1943
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1943 }
		}
		
		categories = {
			para_tech
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	marines = {

		enable_subunits = {
			marine
		}
		
		on_research_complete = {
			limit = {
				NOT = {
					has_template_containing_unit = marine
				}
			}
			hidden_effect = {
				load_oob = "unlock_marines"
			}			
			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}

		path = {
			leads_to_tech = marines2
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1936
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1936 }
		}
		
		categories = {
			marine_tech
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 NOT = { original_tag = ENG original_tag = USA original_tag = GER original_tag = JAP } }
		}
	}
	
	marines2 = {

		marine = {
			max_organisation = 5
			soft_attack = 0.05
		}
		path = {
			leads_to_tech = marines3
			research_cost_coeff = 1
		}
		

		research_cost = 1.5
		start_year = 1939
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1939 }
		}
		
		categories = {
			marine_tech
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #tech goals for certain countries before taking this
				factor = 0
				OR = {
					AND = { original_tag = ENG NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ENG NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
				
					AND = { original_tag = GER NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying } }
					
					AND = { original_tag = ITA NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ITA NOT = { has_tech = floating_fortress_ti is_researching_technology = floating_fortress_ti is_researching_technology = battlefleet_concentration_ti is_researching_technology = capital_ship_raiders is_researching_technology = raider_patrols } }
					
					AND = { original_tag = SOV NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying  } }
					
					AND = { original_tag = JAP NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
					AND = { original_tag = JAP NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					
					AND = { original_tag = USA NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike  } }
				}
			}
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1939.1.1 }
			#modifier = { #date, use research bonus
			#	factor = 0
			#	OR = { 
			#		AND = { date < 1937.1.1 OR = { has_tech_bonus = marine_tech } }
			#		AND = { date < 1939.1.1 NOT = { has_tech_bonus = marine_tech } }
			#	}
			#}
			modifier = { factor = 0 NOT = { original_tag = ENG original_tag = USA original_tag = GER original_tag = JAP } }
		}
	}
	
	marines3 = {

		marine = {
			max_organisation = 5
		}

		research_cost = 2.0
		start_year = 1943
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1943 }
		}
		
		categories = {
			marine_tech
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1943.1.1 }
			#modifier = { #date, use research bonus
			#	factor = 0
			#	OR = { 
			#		AND = { date < 1941.1.1 OR = { has_tech_bonus = marine_tech } }
			#		AND = { date < 1943.1.1 NOT = { has_tech_bonus = marine_tech } }
			#	}
			#}
			modifier = { factor = 0 NOT = { original_tag = ENG original_tag = USA original_tag = GER original_tag = JAP } }
		}
	}	
	
	tech_mountaineers = {

		enable_subunits = {
			mountaineers
		}

		on_research_complete = {
			limit = {
				NOT = {
					has_template_containing_unit = mountaineers
				}
			}
			hidden_effect = {
				load_oob = "unlock_mountineers"
			}
			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}
		
		path = {
			leads_to_tech = tech_mountaineers2
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1936
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1936 }
		}
		
		categories = {
			infantry_tech
			mountaineers_tech
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 NOT = { original_tag = FRA original_tag = ITA original_tag = GER original_tag = SOV original_tag = RAJ } }
		}
	}
	
	tech_mountaineers2 = {

		mountaineers = {
			max_organisation = 5
			soft_attack = 0.05
		}
		path = {
			leads_to_tech = tech_mountaineers3
			research_cost_coeff = 1
		}


		research_cost = 1.5
		start_year = 1939
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1939 }
		}
		
		categories = {
			infantry_tech
			mountaineers_tech
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #tech goals for certain countries before taking this
				factor = 0
				OR = {
					AND = { original_tag = ENG NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ENG NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
				
					AND = { original_tag = GER NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying } }
					
					AND = { original_tag = ITA NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ITA NOT = { has_tech = floating_fortress_ti is_researching_technology = floating_fortress_ti is_researching_technology = battlefleet_concentration_ti is_researching_technology = capital_ship_raiders is_researching_technology = raider_patrols } }
					
					AND = { original_tag = SOV NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying  } }
					
					AND = { original_tag = JAP NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
					AND = { original_tag = JAP NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					
					AND = { original_tag = USA NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike  } }
				}
			}
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1939.1.1 }
			#modifier = { #date, use research bonus
			#	factor = 0
			#	OR = { 
			#		AND = { date < 1941.1.1 OR = { has_tech_bonus = infantry_tech has_tech_bonus = marine_tech } }
			#		AND = { date < 1943.1.1 NOT = { has_tech_bonus = infantry_tech has_tech_bonus = marine_tech } }
			#	}
			#}
			modifier = { factor = 0 NOT = { original_tag = FRA original_tag = ITA original_tag = GER original_tag = SOV } }
		}
	}
	
	tech_mountaineers3 = {

		mountaineers = {
			max_organisation = 5
		}

		research_cost = 2.0
		start_year = 1943
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1943 }
		}
		
		categories = {
			infantry_tech
			mountaineers_tech
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1943.1.1 }
			modifier = { factor = 0 NOT = { original_tag = FRA original_tag = ITA original_tag = GER original_tag = SOV } }
			#modifier = { #date, use research bonus
			#	factor = 0
			#	OR = { 
			#		AND = { date < 1941.1.1 OR = { has_tech_bonus = infantry_tech has_tech_bonus = marine_tech } }
			#		AND = { date < 1943.1.1 NOT = { has_tech_bonus = infantry_tech has_tech_bonus = marine_tech } }
			#	}
			#}
		}
	}

	jungle_warfare = {

		research_cost = 1

		# only from focus!!! #####
		allow = {
			always = no
		}


		#If you change these
		#Change the custom tooltip too: RAJ_jungle_training_effect
		marine = {
			jungle = {
				attack = 0.05 
				movement = 0.1
			}
		}

		mountaineers = {
			jungle = {
				attack = 0.05
				movement = 0.1
			}
		}

		paratrooper = {
			jungle = {
				attack = 0.05
				movement = 0.1
			}
		}

	}
	
	night_vision = {

		land_night_attack = 0.1
		
		path = {
			leads_to_tech = night_vision2
			research_cost_coeff = 1
		}

		research_cost = 2.5
		start_year = 1943
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1943 }
		}
		
		categories = {
			night_vision
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1943.1.1 }
			#modifier = { #date, use research bonus
			#	factor = 0
			#	OR = { 
			#		AND = { date < 1941.1.1 OR = { has_tech_bonus = night_vision } }
			#		AND = { date < 1943.1.1 NOT = { has_tech_bonus = night_vision } }
			#	}
			#}
		}
	}
	
	night_vision2 = {

		land_night_attack = 0.15	

		research_cost = 2
		start_year = 1946
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1946 }
		}
		
		categories = {
			night_vision
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1946.1.1 }
			#modifier = { #date, use research bonus
			#	factor = 0
			#	OR = { 
			#		AND = { date < 1944.1.1 OR = { has_tech_bonus = night_vision } }
			#		AND = { date < 1946.1.1 NOT = { has_tech_bonus = night_vision } }
			#	}
			#}
		}
	}
	
	support_weapons = {

		infantry = {
			defense = 0.05
			breakthrough = 0.05
		}
		cavalry = {
			defense = 0.02
			breakthrough = 0.02
		}		
		mountaineers = {
			defense = 0.03
			breakthrough = 0.03
		}
		paratrooper = {
			defense = 0.03
			breakthrough = 0.03
		}
		marine = {
			defense = 0.03
			breakthrough = 0.03
		}
		motorized = {
			defense = 0.05
			breakthrough = 0.05
		}
		mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		
		path = {
			leads_to_tech = support_weapons2
			research_cost_coeff = 1
		}

		research_cost = 1.5
		start_year = 1918
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1918 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #tech goals for certain countries before taking this
				factor = 0
				OR = {
					AND = { original_tag = ENG NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ENG NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
				
					AND = { original_tag = GER NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying } }
					
					AND = { original_tag = ITA NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ITA NOT = { has_tech = floating_fortress_ti is_researching_technology = floating_fortress_ti is_researching_technology = battlefleet_concentration_ti is_researching_technology = capital_ship_raiders is_researching_technology = raider_patrols } }
					
					AND = { original_tag = SOV NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying  } }
					
					AND = { original_tag = JAP NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
					AND = { original_tag = JAP NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					
					AND = { original_tag = USA NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike  } }
				}
			}
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { #prioritise air
				factor = 0 
				OR = { NOT = { has_tech = fighter1 is_researching_technology = fighter1 } NOT = { has_tech = tactical_bomber1 is_researching_technology = tactical_bomber1 has_tech = CAS1 is_researching_technology = CAS1 } }
				OR = { original_tag = ENG original_tag = USA original_tag = GER original_tag = SOV } 
			}
		}
	}
	
	support_weapons2 = {

		infantry = {
			defense = 0.05
			breakthrough = 0.05
		}
		cavalry = {
			defense = 0.02
			breakthrough = 0.02
		}		
		mountaineers = {
			defense = 0.03
			breakthrough = 0.03
		}
		paratrooper = {
			defense = 0.03
			breakthrough = 0.03
		}
		marine = {
			defense = 0.03
			breakthrough = 0.03
		}
		motorized = {
			defense = 0.05
			breakthrough = 0.05
		}
		mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		
		path = {
			leads_to_tech = support_weapons3
			research_cost_coeff = 1
		}

		research_cost = 1.5
		start_year = 1938
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1938 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #tech goals for certain countries before taking this
				factor = 0
				OR = {
					AND = { original_tag = ENG NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ENG NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
				
					AND = { original_tag = GER NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying } }
					
					AND = { original_tag = ITA NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ITA NOT = { has_tech = floating_fortress_ti is_researching_technology = floating_fortress_ti is_researching_technology = battlefleet_concentration_ti is_researching_technology = capital_ship_raiders is_researching_technology = raider_patrols } }
					
					AND = { original_tag = SOV NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying  } }
					
					AND = { original_tag = JAP NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
					AND = { original_tag = JAP NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					
					AND = { original_tag = USA NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike  } }
				}
			}
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1938.1.1 }
			#modifier = { #date, use research bonus
			#	factor = 0
			#	OR = { 
			#		AND = { date < 1937.1.1 OR = { has_tech_bonus = infantry_weapons } }
			#		AND = { date < 1938.1.1 NOT = { has_tech_bonus = infantry_weapons } }
			#	}
			#}
			modifier = { #prioritise air
				factor = 0 
				OR = { NOT = { has_tech = fighter1 is_researching_technology = fighter1 } NOT = { has_tech = tactical_bomber1 is_researching_technology = tactical_bomber1 has_tech = CAS1 is_researching_technology = CAS1 } }
				OR = { original_tag = ENG original_tag = USA original_tag = GER original_tag = SOV } 
			}
		}
	}
	
	support_weapons3 = {

		infantry = {
			defense = 0.05
			breakthrough = 0.05
		}
		cavalry = {
			defense = 0.02
			breakthrough = 0.02
		}		
		mountaineers = {
			defense = 0.03
			breakthrough = 0.03
		}
		paratrooper = {
			defense = 0.03
			breakthrough = 0.03
		}
		marine = {
			defense = 0.03
			breakthrough = 0.03
		}
		motorized = {
			defense = 0.05
			breakthrough = 0.05
		}
		mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		
		path = {
			leads_to_tech = support_weapons4
			research_cost_coeff = 1
		}
		
		research_cost = 1.5
		start_year = 1940
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1940 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #tech goals for certain countries before taking this
				factor = 0
				OR = {
					AND = { original_tag = ENG NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ENG NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
				
					AND = { original_tag = GER NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying } }
					
					AND = { original_tag = ITA NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ITA NOT = { has_tech = floating_fortress_ti is_researching_technology = floating_fortress_ti is_researching_technology = battlefleet_concentration_ti is_researching_technology = capital_ship_raiders is_researching_technology = raider_patrols } }
					
					AND = { original_tag = SOV NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying  } }
					
					AND = { original_tag = JAP NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
					AND = { original_tag = JAP NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					
					AND = { original_tag = USA NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike  } }
				}
			}
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1940.1.1 }
			#modifier = { #date, use research bonus
			#	factor = 0
			#	OR = { 
			#		AND = { date < 1939.1.1 OR = { has_tech_bonus = infantry_weapons } }
			#		AND = { date < 1940.1.1 NOT = { has_tech_bonus = infantry_weapons } }
			#	}
			#}
		}
	}
	
	support_weapons4 = {

		infantry = {
			defense = 0.05
			breakthrough = 0.05
		}
		cavalry = {
			defense = 0.02
			breakthrough = 0.02
		}		
		mountaineers = {
			defense = 0.03
			breakthrough = 0.03
		}
		paratrooper = {
			defense = 0.03
			breakthrough = 0.03
		}
		marine = {
			defense = 0.03
			breakthrough = 0.03
		}
		motorized = {
			defense = 0.05
			breakthrough = 0.05
		}
		mechanized = {
			defense = 0.05
			breakthrough = 0.05
		}
		
		research_cost = 1.5
		start_year = 1942
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1942 }
		}
		
		categories = {
			infantry_weapons
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1942.1.1 }
			#modifier = { #date, use research bonus
			#	factor = 0
			#	OR = { 
			#		AND = { date < 1941.1.1 OR = { has_tech_bonus = infantry_weapons } }
			#		AND = { date < 1942.1.1 NOT = { has_tech_bonus = infantry_weapons } }
			#	}
			#}
		}
	}
	
	motorised_infantry = {

		enable_subunits = {
			motorized
		}

		enable_equipments = {
			motorized_equipment_1
		}

		on_research_complete = {
			limit = {
				NOT = {
					has_template_containing_unit = motorized
				}
			}
			hidden_effect = {
				load_oob = "unlock_motorized"
			}			
			custom_effect_tooltip = UNLOCK_DIVISION_TEMPLATE
		}
		
		path = {
			leads_to_tech = mechanised_infantry
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1936
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1936 }
		}
		
		folder = {
			name = support_folder
			position = { x = 7 y = 9 }
		}
		
		sub_technologies = {
			motorized_rocket_unit
		}
		
		categories = {
			motorized_equipment
			infantry_tech
		}
		
		ai_will_do = {
			factor = 100
			#modifier = { #dont even think about taking this before industrial techs
			#	factor = 0
			#	OR = {
			#		AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
			#		AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
			#		
			#		AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
			#		AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
			#		
			#		AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
			#		AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
			#		
			#		AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
			#		AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
			#		AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
			#		AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
			#		AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
			#		AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }
            #
			#		AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
			#		AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
			#		AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
			#		AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
			#		AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
			#	}
			#}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	motorized_rocket_unit = {

		on_research_complete = {
			limit = { is_ai = yes }
			if = { limit = { original_tag = SOV }
				division_template = {
					name = "Motostrelkovaya Diviziya"
				
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized_rocket_brigade = { x = 0 y = 2 }
						
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized_rocket_brigade = { x = 1 y = 2 }
						
						motorized = { x = 2 y = 0 }
						motorized = { x = 2 y = 1 }
						motorized_rocket_brigade = { x = 2 y = 2 }
					}
					
					support = {
						engineer = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						artillery = { x = 0 y = 2 }
						maintenance_company = { x = 0 y = 3 }	
						field_hospital = { x = 0 y = 4 }
					}
				}
			}
			if = { limit = { original_tag = ITA }
				division_template = {
					name = "Divisione Motorizzata"
				
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized_rocket_brigade = { x = 0 y = 2 }
						
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized_rocket_brigade = { x = 1 y = 2 }
						
						motorized = { x = 2 y = 0 }
						motorized = { x = 2 y = 1 }
						motorized_rocket_brigade = { x = 2 y = 2 }
					}
					
					support = {
						engineer = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						logistics_company = { x = 0 y = 2 }
						maintenance_company = { x = 0 y = 3 }	
						field_hospital = { x = 0 y = 4 }
					}
				}
			}
			if = { limit = { original_tag = JAP }
				division_template = {
					name = "Jidousha Shidan"
				
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized_rocket_brigade = { x = 0 y = 2 }
						
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized_rocket_brigade = { x = 1 y = 2 }
						
						motorized = { x = 2 y = 0 }
						motorized = { x = 2 y = 1 }
						motorized_rocket_brigade = { x = 2 y = 2 }
					}
					
					support = {
						engineer = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						logistics_company = { x = 0 y = 2 }
						maintenance_company = { x = 0 y = 3 }	
						field_hospital = { x = 0 y = 4 }
					}
				}
			}
			if = { limit = { original_tag = FRA }
				division_template = {
					name = "Division d'Infanterie Motorisée"
				
					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized_rocket_brigade = { x = 0 y = 2 }
						
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized_rocket_brigade = { x = 1 y = 2 }
						
						motorized = { x = 2 y = 0 }
						motorized = { x = 2 y = 1 }
						motorized_rocket_brigade = { x = 2 y = 2 }
					}
					
					support = {
						engineer = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						logistics_company = { x = 0 y = 2 }
						maintenance_company = { x = 0 y = 3 }	
						field_hospital = { x = 0 y = 4 }
					}
				}
			}
		}
	
		enable_subunits = {
			motorized_rocket_brigade
		}
		enable_equipments = {
			motorized_rocket_equipment_1
		}
	
		research_cost = 1.5
		start_year = 1939
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { factor = 0 date < 1939.1.1 }
			modifier = { factor = 0 NOT = { original_tag = FRA original_tag = ITA original_tag = JAP original_tag = SOV } }
		}
		
		categories = {
			mot_rockets
		}
	}
	
	mechanised_infantry = {

		enable_equipments = {
			mechanized_equipment_1
		}
		
		motorized = {
			hardness = 1.0
		}

		path = {
			leads_to_tech = mechanised_infantry2
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1940
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1940 }
		}
		
		categories = {
			motorized_equipment
			infantry_tech
			cat_mechanized_equipment
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1940.1.1 }
		}
	}
	
	mechanised_infantry2 = {

		enable_equipments = {
			mechanized_equipment_2
		}
		
		path = {
			leads_to_tech = mechanised_infantry3
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1942
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1942 }
		}
		
		categories = {
			motorized_equipment
			infantry_tech
			cat_mechanized_equipment
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #tech goals for certain countries before taking this
				factor = 0
				OR = {
					AND = { original_tag = ENG NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ENG NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
				
					AND = { original_tag = GER NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying } }
					
					AND = { original_tag = ITA NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					AND = { original_tag = ITA NOT = { has_tech = floating_fortress_ti is_researching_technology = floating_fortress_ti is_researching_technology = battlefleet_concentration_ti is_researching_technology = capital_ship_raiders is_researching_technology = raider_patrols } }
					
					AND = { original_tag = SOV NOT = { has_tech = combat_unit_destruction is_researching_technology = combat_unit_destruction is_researching_technology = hunt_and_destroy is_researching_technology = formation_fighting is_researching_technology = direct_ground_support is_researching_technology = dive_bombing is_researching_technology = formation_flying  } }
					
					AND = { original_tag = JAP NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike } }
					AND = { original_tag = JAP NOT = { has_tech = fighter_veteran_initiative is_researching_technology = fighter_veteran_initiative is_researching_technology = operational_destruction is_researching_technology = dispersed_fighting is_researching_technology = low_echelon_support is_researching_technology = fighter_baiting is_researching_technology = force_rotation } }
					
					AND = { original_tag = USA NOT = { has_tech = massed_strikes is_researching_technology = massed_strikes is_researching_technology = floating_airfield_bs is_researching_technology = carrier_task_forces is_researching_technology = carrier_primacy is_researching_technology = base_strike  } }
				}
			}
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1942.1.1 }
		}
	}
	
	mechanised_infantry3 = {

		enable_equipments = {
			mechanized_equipment_3
		}

		mechanized = {
			soft_attack = 0.15
			hard_attack = 0.15
		}

		research_cost = 3
		start_year = 1944
		folder = {
			name = infantry_folder
			position = { x = 0 y = @1944 }
		}
		
		categories = {
			motorized_equipment
			infantry_tech
			cat_mechanized_equipment
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 date < 1944.1.1 }
		}
	}
	

}