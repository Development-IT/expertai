technologies = {

	fleet_in_being = { # 1
		#Fleet in being is mainly focused on Battleships (and Battlecrusiers/Heavy cruisers) and ASW with carriers and submarines being used to a lesser extent. The fleet may not have to do anything at all to be useful - simply having a powerful fleet in a protected port forces your enemies to keep a fleet of their own nearby in order you fight you if you emerge
		#Bonus org for BB/BC/CA
		
		# EFFECT #############
		battleship = {
			max_organisation = 10			
		}
		battle_cruiser = {
			max_organisation = 10			
		}
		heavy_cruiser = {
			max_organisation = 10			
		}
		#####


		xor = { trade_interdiction base_strike } 
		
		path = {
			leads_to_tech = battlefleet_concentration 
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = convoy_sailing
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = submarine_operations 
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 0 }
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	battlefleet_concentration = { # 1 1
		# EFFECT #############
		battleship = {
			max_organisation = 10
			search_and_destroy_coordination = 0.5
		}
		battle_cruiser = {
			max_organisation = 10
			search_and_destroy_coordination = 0.5
		}
		heavy_cruiser = {
			max_organisation = 10
			search_and_destroy_coordination = 0.5
		}		
		########

		path = {
			leads_to_tech = subsidiary_carrier_role
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 2 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { #research after important techs are done
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				OR = {
					NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } NOT = { has_tech = construction5 is_researching_technology = construction5 } NOT = { has_tech = excavation5 is_researching_technology = excavation5 } NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine }
					NOT = { has_tech = artillery5 is_researching_technology = artillery5 } NOT = { has_tech = antitank5 is_researching_technology = antitank5 }
				}
			}
			modifier = { #research after important techs are done
				factor = 0
				original_tag = SOV
				OR = {
					NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } NOT = { has_tech = construction5 is_researching_technology = construction5 } NOT = { has_tech = excavation5 is_researching_technology = excavation5 } NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine }
					NOT = { has_tech = fighter3 is_researching_technology = fighter3 } NOT = { has_tech = CAS3 is_researching_technology = CAS3 has_tech = tactical_bomber3 is_researching_technology = tactical_bomber3 }
					NOT = { has_tech = advanced_medium_art is_researching_technology = advanced_medium_art }
					NOT = { has_tech = artillery5 is_researching_technology = artillery5 } NOT = { has_tech = antitank5 is_researching_technology = antitank5 }
				}
			}
		}
	}
	
	subsidiary_carrier_role = {
		#Carriers support the Battleships
		
		# EFFECT #############
		carrier = {
			max_organisation = 10			
		}
		sortie_efficiency = 0.1
		########

		path = {
			leads_to_tech = hunter_killer_groups
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 4 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	hunter_killer_groups = {
		#Groups of Destroyers (and CVEs should those ever be added) formed to hunt down enemy subs
		
		# EFFECT #############
		destroyer = {
			max_organisation = 20
			sub_detection = 0.2
		}
		light_cruiser = {
			max_organisation = 10
			sub_detection = 0.2
		}

		convoy_escort_efficiency = 0.1
		########
		
		path = {
			leads_to_tech = floating_fortress
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 6 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	floating_fortress = {
		#Large, powerful gun armed ships are clearly the best ships
		
		# EFFECT #############
		battleship = {
			max_organisation = 20
		}
		
		navy_capital_ship_defence_factor = 0.10
		
		########

		path = {
			leads_to_tech = floating_airfield
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 8 }
		}

		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	floating_airfield = {
		#Non base strike trees get a late CV booster
		
		# EFFECT #############
		carrier = {
			max_organisation = 20
		}
		sortie_efficiency = 0.1
		########

		path = {
			leads_to_tech = grand_battlefleet
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -1 y = 10 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	grand_battlefleet = {
		#Top tech for the Battlefleet tree. 
		
		# EFFECT #############
		battleship = {
			max_organisation = 20
		}

		battle_cruiser = {
			max_organisation = 20
		}

		heavy_cruiser = {
			max_organisation = 20
		}

		navy_anti_air_attack_factor = 0.10
		navy_capital_ship_attack_factor = 0.1
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -1 y = 12 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	convoy_sailing = { # 1 2
		#Convoy escort/ ASW branch
		
		# EFFECT #############
		destroyer = {
			max_organisation = 10
			sub_detection = 0.1
		}
		convoy_escort_efficiency = 0.10
		#####
		
		path = {
			leads_to_tech = convoy_escorts
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			convoy_defense_tree
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 2 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 NOT = { has_tech = grand_battlefleet is_researching_technology = grand_battlefleet  } }
		}
	}
	
	convoy_escorts = {
		#Assigning dedicated convoy escorts to keep them safe
		
		# EFFECT #############
		destroyer = {
			max_organisation = 10
			sub_detection = 0.2
		}
		convoy_escort_efficiency = 0.15
		#####

		path = {
			leads_to_tech = escort_carriers
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			convoy_defense_tree
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 4 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	escort_carriers = {
		#Small carriers/converted merchant ships sail with convoys for increased defense against subs and raiders

		# EFFECT #############
		convoy_escort_efficiency = 0.3
		####
		
		path = {
			leads_to_tech = integrated_convoy_defence
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			convoy_defense_tree
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 6 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	integrated_convoy_defence = {
		#The top convoy tech, basically now all the earlier concepts are working well with each other for maximum effect
		
		# EFFECT #############
		destroyer = {
			max_organisation = 20
		}
		convoy_escort_efficiency = 0.25
		#####

		path = {
			leads_to_tech = floating_airfield
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			convoy_defense_tree
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 8 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	submarine_operations = { # 1 3
		# Basic sub-boosting tree, not as good as Trade Interdiction's 
				
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
		}
		#######

		path = {
			leads_to_tech = undersea_blockade
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			submarine_doctrine
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 2 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { #research after important techs are done
				factor = 0
				OR = {
					NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } NOT = { has_tech = construction5 is_researching_technology = construction5 } NOT = { has_tech = excavation5 is_researching_technology = excavation5 } NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine }
					NOT = { has_tech = fighter3 is_researching_technology = fighter3 } NOT = { has_tech = CAS3 is_researching_technology = CAS3 has_tech = tactical_bomber3 is_researching_technology = tactical_bomber3 }
					NOT = { has_tech = advanced_medium_art is_researching_technology = advanced_medium_art }
					NOT = { has_tech = artillery5 is_researching_technology = artillery5 } NOT = { has_tech = antitank5 is_researching_technology = antitank5 }
				}
			}
		}
	}
	
	undersea_blockade = {
		# Sub boost

		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.2
		}
		#######

		
		path = {
			leads_to_tech = convoy_interdiction
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			submarine_doctrine
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 4 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	convoy_interdiction = {
		# Sub boost
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			convoy_raiding_coordination = 0.1
		}
		#######

		path = {
			leads_to_tech = submarine_offensive
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			submarine_doctrine
			cat_fleet_in_being
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 6 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	submarine_offensive = {
		# Sub boost
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			convoy_raiding_coordination = 0.1
		}
		#######
	
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			fleet_in_being_tree
			submarine_doctrine
			cat_fleet_in_being
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 8 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	trade_interdiction = { # 2
		# This tree is focused on sinking convoys, and boosting Subs and all types of Cruiser. It has some boosts for CVs and Battleships, but the CVs should be a bit worse and the BBs a lot worse than Fleet in being's.

		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1	
		}

		light_cruiser = {
			max_organisation = 10
			surface_detection = 0.1			
		}

		heavy_cruiser = {
			max_organisation = 10
			surface_detection = 0.1
		}
		#######
		


		xor = { fleet_in_being base_strike } 
		
		path = {
			leads_to_tech = convoy_interdiction_ti 
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = raider_patrols
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = carrier_operations 
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 0 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 OR = { original_tag = USA original_tag = ENG original_tag = JAP } }
			modifier = { #research after important techs are done
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				OR = {
					NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } NOT = { has_tech = construction5 is_researching_technology = construction5 } NOT = { has_tech = excavation5 is_researching_technology = excavation5 } NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine }
					NOT = { has_tech = artillery5 is_researching_technology = artillery5 } NOT = { has_tech = antitank5 is_researching_technology = antitank5 }
				}
			}
		}
	}
	
	convoy_interdiction_ti = { # 2 3

		# same as convoy interdiction
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			convoy_raiding_coordination = 0.1
		}
		#######
		
		path = {
			leads_to_tech = unrestricted_submarine_warfare
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 2 }
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	unrestricted_submarine_warfare = {
		#Nice bonus for subs vs convoys
		
		# EFFECT ##############
		submarine = {
			surface_detection = 0.2
			convoy_raiding_coordination = 0.1
		}
		navy_submarine_attack_factor = 0.1
		#######
		
		path = {
			leads_to_tech = wolfpacks
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 4 }
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	wolfpacks = {
		# More sub bonuses - subs operate in groups to sink convoys
		
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			convoy_raiding_coordination = 0.4
			surface_detection = 0.25
		}
		#######
		
		path = {
			leads_to_tech = advanced_submarine_warfare
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 6 }
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	advanced_submarine_warfare = {
		# More sub bonuses - subs are deployed in numbers and the navy is better at putting them in the right places
		
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			convoy_raiding_coordination = 0.4
			surface_detection = 0.25
		}
		
		navy_submarine_defence_factor = 0.10
		
		path = {
			leads_to_tech = combined_operations_raiding
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 8 }
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	combined_operations_raiding = {
		#top raiding idea - subs and surface raiders act in harmony to destroy convoys
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			convoy_raiding_coordination = 0.1
			surface_detection = 0.1
		}

		light_cruiser = {
			max_organisation = 10
			convoy_raiding_coordination = 0.7
			surface_detection = 0.25
		}

		heavy_cruiser = {
			max_organisation = 10
			convoy_raiding_coordination = 0.7
			surface_detection = 0.25
		}

		battle_cruiser = {
			max_organisation = 10
			convoy_raiding_coordination = 0.7
			surface_detection = 0.25
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			submarine_doctrine
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 10 }
		}
		
		ai_will_do = {
			factor = 0
		}
	}
	
	raider_patrols = { # 2 1
		#Surface raiding Branch + some boosts for Battleships
		# EFFECT ##############		
		light_cruiser = {
			max_organisation = 10
			surface_visibility = -0.25
			convoy_raiding_coordination = 0.3
			surface_detection = 0.25
		}

		heavy_cruiser = {
			max_organisation = 10
			surface_visibility = -0.25
			convoy_raiding_coordination = 0.3
			surface_detection = 0.25
		}

		battle_cruiser = {
			max_organisation = 10
			surface_visibility = -0.25
			convoy_raiding_coordination = 0.3
			surface_detection = 0.25
		}

		battleship = {
			max_organisation = 10
			surface_visibility = -0.25
			convoy_raiding_coordination = 0.3
			surface_detection = 0.25
		}
		#######

		
		path = {
			leads_to_tech = capital_ship_raiders
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 2 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { #research after important techs are done
				factor = 0
				original_tag = GER
				OR = {
					NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } NOT = { has_tech = construction5 is_researching_technology = construction5 } NOT = { has_tech = excavation5 is_researching_technology = excavation5 } NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine }
					NOT = { has_tech = fighter3 is_researching_technology = fighter3 } NOT = { has_tech = CAS3 is_researching_technology = CAS3 has_tech = tactical_bomber3 is_researching_technology = tactical_bomber3 }
					NOT = { has_tech = advanced_medium_art is_researching_technology = advanced_medium_art }
					NOT = { has_tech = artillery5 is_researching_technology = artillery5 } NOT = { has_tech = antitank5 is_researching_technology = antitank5 }
				}
			}
			modifier = { #research after important techs are done
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				OR = {
					NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } NOT = { has_tech = construction5 is_researching_technology = construction5 } NOT = { has_tech = excavation5 is_researching_technology = excavation5 } NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine }
					NOT = { has_tech = artillery5 is_researching_technology = artillery5 } NOT = { has_tech = antitank5 is_researching_technology = antitank5 }
				}
			}
		}
	}
	
	capital_ship_raiders = {
		#Battleships/Battlecrusiers are used as raiders rather than in the line of battle in a fleet

		# EFFECT ##############		
		battle_cruiser = {
			max_organisation = 10
			surface_visibility = -0.25
			convoy_raiding_coordination = 0.6
			surface_detection = 0.25
		}

		battleship = {
			max_organisation = 10
			surface_visibility = -0.5
			convoy_raiding_coordination = 0.6
			surface_detection = 0.25
		}
		#######
		
		path = {
			leads_to_tech = battlefleet_concentration_ti
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 4 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	battlefleet_concentration_ti = {

		#same as battlefleet_concentration
		# EFFECT #############
		battleship = {
			max_organisation = 10
			search_and_destroy_coordination = 0.5
		}
		battle_cruiser = {
			max_organisation = 10
			search_and_destroy_coordination = 0.5
		}
		heavy_cruiser = {
			max_organisation = 10
			search_and_destroy_coordination = 0.5
		}		
		########
		
		path = {
			leads_to_tech = floating_fortress_ti
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y =6 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	floating_fortress_ti = {

		#same as floating_fortress
		# EFFECT #############
		battleship = {
			max_organisation = 20
		}
		navy_capital_ship_defence_factor = 0.10
		########

		path = {
			leads_to_tech = floating_airfield_ti
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 8 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	floating_airfield_ti = {

		#same as floating_airfield
		# EFFECT #############
		carrier = {
			max_organisation = 20
		}
		sortie_efficiency = 0.1
		########
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = -1 y = 10 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	carrier_operations = { # 2 2
		# Carrier/Convoy defense branch - not great at either of them, should have worse CVs than Fleet in Being

		# EFFECT #############
		carrier = {
			max_organisation = 20
		}
		modifier = {
			naval_strike_targetting_factor = 0.1
		}
		########
		
		path = {
			leads_to_tech = convoy_sailing_ti
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 2 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 NOT = { has_tech = floating_airfield_ti is_researching_technology = floating_airfield_ti } }
			modifier = { #research after important techs are done
				factor = 0
				original_tag = GER
				OR = {
					NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } NOT = { has_tech = construction5 is_researching_technology = construction5 } NOT = { has_tech = excavation5 is_researching_technology = excavation5 } NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine }
					NOT = { has_tech = fighter3 is_researching_technology = fighter3 } NOT = { has_tech = CAS3 is_researching_technology = CAS3 has_tech = tactical_bomber3 is_researching_technology = tactical_bomber3 }
					NOT = { has_tech = advanced_medium_art is_researching_technology = advanced_medium_art }
					NOT = { has_tech = artillery5 is_researching_technology = artillery5 } NOT = { has_tech = antitank5 is_researching_technology = antitank5 }
				}
			}
		}
	}
	
	convoy_sailing_ti = {

		#same as convoy_sailing
		# EFFECT #############
		destroyer = {
			max_organisation = 10
			sub_detection = 0.1
		}
		convoy_escort_efficiency = 0.10
		#####
		
		path = {
			leads_to_tech = subsidiary_carrier_role_ti
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			convoy_defense_tree
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 4 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	subsidiary_carrier_role_ti = {

		#same as subsidiary_carrier_role
		# EFFECT #############
		carrier = {
			max_organisation = 10			
		}
		sortie_efficiency = 0.1
		########

		path = {
			leads_to_tech = naval_air_operations
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 6 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	naval_air_operations = {
		# slightly improved CV operation

		# EFFECT #############
		carrier = {
			max_organisation = 10			
		}
		modifier = {
			naval_strike_targetting_factor = 0.1
		}
		########

		path = {
			leads_to_tech = floating_airfield_ti
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			trade_interdiction_tree
			cat_trade_interdiction
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 8 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	base_strike = { # 3
		#This tree is primarily focused on Carriers. It should have the best Carriers, Battleships that are better than Trade interdiction but worse than Fleet in being, and has the same Sub tree as FiB. Convoy defense is better than TI but worse than FiB
		# EFFECT ##############
		carrier = {
			max_organisation = 20
		}
		port_strike = 0.5
		#####
		
		xor = { fleet_in_being trade_interdiction } 
		
		path = {
			leads_to_tech = carrier_primacy 
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = submarine_operations_bs
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech =  convoy_escorts_bs
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 0 }
		}
		
		ai_will_do = {
			factor = 0
			modifier = { factor = 0 NOT = { original_tag = USA original_tag = ENG original_tag = JAP } }
		}
	}
	
	carrier_primacy = { # 3 3
		#The idea that the carrier is the primary naval weapon and that other ships, even the BB, exist to support them
		# EFFECT ##############
		carrier = {
			max_organisation = 20
		}
		sortie_efficiency = 0.1

		modifier = {
			naval_strike_targetting_factor = 0.1
		}
		#############

		path = {
			leads_to_tech = carrier_task_forces
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 2 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { #research after important techs are done
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				OR = {
					NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } NOT = { has_tech = construction5 is_researching_technology = construction5 } NOT = { has_tech = excavation5 is_researching_technology = excavation5 } NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine }
					NOT = { has_tech = artillery5 is_researching_technology = artillery5 } NOT = { has_tech = antitank5 is_researching_technology = antitank5 }
				}
			}
		}
	}
	
	carrier_task_forces = {
		#Task forces are based around carrier flagship 
		# EFFECT ##############
		carrier = {
			max_organisation = 20
		}
		light_cruiser = {
			max_organisation = 20
		}
		modifier = {
			naval_strike_targetting_factor = 0.1
		}
		##########

		path = {
			leads_to_tech = floating_airfield_bs
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 4 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	floating_airfield_bs = {

		#same as floating_airfield
		# EFFECT #############
		carrier = {
			max_organisation = 20
		}
		sortie_efficiency = 0.1
		########

		path = {
			leads_to_tech = massed_strikes
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 6 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	massed_strikes = {
		#CAGs are larger and more effort is made to have all planes arrive at the target at the same time, even when launched from multiple CVs
		# EFFECT #############
		carrier = {
			max_organisation = 20			
		}
		carrier_capacity_penalty_reduction = -0.5
		sortie_efficiency = 0.2

		modifier = {
			naval_strike_targetting_factor = 0.2
		}
		########
		
		path = {
			leads_to_tech = floating_fortress_bs
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}

		
		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 8 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	floating_fortress_bs = {

		#same as floating_fortress
		# EFFECT #############
		battleship = {
			max_organisation = 20
		}
		navy_capital_ship_defence_factor = 0.10
		########

		path = {
			leads_to_tech = carrier_battlegroups
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 10 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	carrier_battlegroups = {
		#Larger carrier-lead fleets
		
		# EFFECT ##############
		carrier = {
			max_organisation = 20
		}
		light_cruiser = {
			max_organisation = 20
		}

		navy_carrier_air_agility_factor = 0.10

		###########
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			base_strike_main
			cat_base_strike
		}

		folder = {
			name = naval_doctrine_folder
			position = { x = 2 y = 12 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	submarine_operations_bs = { # 3 2

		# same as submarine_operations
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
		}
		#######

		path = {
			leads_to_tech = undersea_blockade_bs
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 2 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { #research after important techs are done
				factor = 0
				OR = {
					NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } NOT = { has_tech = construction5 is_researching_technology = construction5 } NOT = { has_tech = excavation5 is_researching_technology = excavation5 } NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine }
					NOT = { has_tech = fighter3 is_researching_technology = fighter3 } NOT = { has_tech = CAS3 is_researching_technology = CAS3 has_tech = tactical_bomber3 is_researching_technology = tactical_bomber3 }
					NOT = { has_tech = advanced_medium_art is_researching_technology = advanced_medium_art }
					NOT = { has_tech = artillery5 is_researching_technology = artillery5 } NOT = { has_tech = antitank5 is_researching_technology = antitank5 }
				}
			}
		}
	}
	
	undersea_blockade_bs = {

		# same as undersea_blockade
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.2
		}
		#######
		
		path = {
			leads_to_tech = convoy_interdiction_bs
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 4 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	convoy_interdiction_bs = {

		# same as convoy_interdiction
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			convoy_raiding_coordination = 0.1
		}
		#######

		path = {
			leads_to_tech = submarine_offensive_bs
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 6 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	submarine_offensive_bs = {
		# same as submarine_offensive
		# EFFECT ##############
		submarine = {
			max_organisation = 10
			surface_detection = 0.1
			convoy_raiding_coordination = 0.1
		}
		#######

		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = 0 y = 8 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	convoy_escorts_bs = { # 3 1

		#same as convoy_escorts
		# EFFECT #############
		destroyer = {
			max_organisation = 10
			sub_detection = 0.2
		}
		convoy_escort_efficiency = 0.15
		#####
		
		path = {
			leads_to_tech = escort_patrols
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			convoy_defense_tree
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 2 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
			modifier = { factor = 0 NOT = { has_tech = carrier_battlegroups is_researching_technology = carrier_battlegroups  } }
		}
	}
	
	escort_patrols = {
		# Lesser version of hunter-killer groups
		
		# EFFECT ##############
		destroyer = {
			max_organisation = 10
			sub_detection = 0.1
		}
		light_cruiser = {
			max_organisation = 10
			sub_detection = 0.1
		}
		
		convoy_escort_efficiency = 0.10

		
		path = {
			leads_to_tech = convoy_sailing_bs
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			convoy_defense_tree
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 4 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	convoy_sailing_bs = {

		#same as convoy_sailing
		# EFFECT #############
		destroyer = {
			max_organisation = 10
			sub_detection = 0.1
		}
		convoy_escort_efficiency = 0.10
		#####
		
		path = {
			leads_to_tech = integrated_convoy_defence_bs
			research_cost_coeff = 1
		}
		
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			convoy_defense_tree
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 6 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
	integrated_convoy_defence_bs = {

		#same as integrated_convoy_defence
		# EFFECT #############
		destroyer = {
			max_organisation = 20
		}
		convoy_escort_efficiency = 0.25
		#####
	
		#doctrine = yes	
		research_cost = 2
		
		categories = {
			naval_doctrine
			convoy_defense_tree
			cat_base_strike
		}
		
		folder = {
			name = naval_doctrine_folder
			position = { x = -2 y = 8 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = { #make sure support techs are researched
				factor = 0
				OR = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_recon is_researching_technology = tech_recon }
					NOT = { has_tech = tech_maintenance_company is_researching_technology = tech_maintenance_company }
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital original_tag = SOV }
					NOT = { has_tech = tech_logistics_company is_researching_technology = tech_logistics_company }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make sure support techs are researched, minors
				factor = 0
				NOT = { original_tag = ENG original_tag = FRA original_tag = USA original_tag = GER original_tag = ITA original_tag = JAP original_tag = SOV }
				date > 1938.1.1
				OR = {
					NOT = { has_tech = tech_field_hospital is_researching_technology = tech_field_hospital }
					NOT = { has_tech = interwar_antitank is_researching_technology = interwar_antitank }
					NOT = { has_tech = gw_artillery is_researching_technology = gw_artillery }
					NOT = { has_tech = radio is_researching_technology = radio }
				}
			}
			modifier = { #make 100% sure that certain countries get medium armor tech every time
				factor = 0
				OR = { original_tag = USA original_tag = GER original_tag = SOV }
				date > 1938.6
				OR = {
					NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank }
					AND = { has_tech = basic_medium_tank NOT = { has_tech = basic_medium_tank is_researching_technology = basic_medium_tank } }
				}
			}
			modifier = { #dont even think about taking this before industrial techs
				factor = 0
				OR = {
					AND = { date > 1942.4.1 NOT = { has_tech = concentrated_industry5 is_researching_technology = concentrated_industry5 } }
					AND = { date > 1942.4.1 NOT = { has_tech = streamlined_line is_researching_technology = streamlined_line } }
					
					AND = { date > 1940.4.1 NOT = { has_tech = concentrated_industry4 is_researching_technology = concentrated_industry4 } }
					AND = { date > 1940.4.1 NOT = { has_tech = assembly_line_production is_researching_technology = assembly_line_production } }
					
					AND = { date > 1938.4.1 NOT = { has_tech = concentrated_industry3 is_researching_technology = concentrated_industry3 } }
					AND = { date > 1938.4.1 NOT = { has_tech = advanced_machine_tools is_researching_technology = advanced_machine_tools } }
					
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry2 is_researching_technology = concentrated_industry2 is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = concentrated_industry is_researching_technology = concentrated_industry is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = basic_machine_tools is_researching_technology = basic_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = improved_machine_tools is_researching_technology = improved_machine_tools } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction2 is_researching_technology = construction2 is_researching_technology = construction1 } }
					AND = { date > 1936.1.1 NOT = { has_tech = construction1 is_researching_technology = construction1 } }

					AND = { date > 1941.10.1 NOT = { has_tech = advanced_computing_machine is_researching_technology = advanced_computing_machine } }
					AND = { date > 1939.10.1 NOT = { has_tech = improved_computing_machine is_researching_technology = improved_computing_machine } }
					AND = { date > 1937.10.1 NOT = { has_tech = computing_machine is_researching_technology = computing_machine is_researching_technology = mechanical_computing } }
					AND = { date > 1936.1.1 NOT = { has_tech = mechanical_computing is_researching_technology = mechanical_computing is_researching_technology = electronic_mechanical_engineering } }
					AND = { date > 1936.1.1 NOT = { has_tech = electronic_mechanical_engineering is_researching_technology = electronic_mechanical_engineering } }
				}
			}
			modifier = { #always research land doctrine first
				factor = 0
				NOT = { has_idea = FRA_victors_of_wwi }
				NOT = { has_tech = volkssturm has_tech = modern_blitzkrieg has_tech = shock_and_awe has_tech = infiltration_in_depth has_tech = continuous_offensive is_researching_technology = superior_firepower
					is_researching_technology = delay 						is_researching_technology = elastic_defence 			is_researching_technology = armored_spearhead	is_researching_technology = sup_delay 					is_researching_technology = mobile_defence 				is_researching_technology = intergrated_support			is_researching_technology = grand_battle_plan 			is_researching_technology = prepared_defense 			is_researching_technology = grand_assault			is_researching_technology = pocket_defence 				is_researching_technology = defence_in_depth 			is_researching_technology = large_front_operations		
					is_researching_technology = schwerpunk 					is_researching_technology = blitzkrieg 					is_researching_technology = kampfgruppe			is_researching_technology = regimental_combat_teams 	is_researching_technology = sup_mechanized_offensive 	is_researching_technology = centralized_fire_control	is_researching_technology = infantry_offensive 			is_researching_technology = armored_operations 			is_researching_technology = infiltration_assault	is_researching_technology = deep_operations 			is_researching_technology = operational_concentration 	is_researching_technology = vast_offensives				
					is_researching_technology = firebrigades 				is_researching_technology = backhand_blow 				is_researching_technology = modern_blitzkrieg	is_researching_technology = forward_observers 			is_researching_technology = advanced_firebases 			is_researching_technology = shock_and_awe				is_researching_technology = night_assault_tactics 		is_researching_technology = attritional_containment 	is_researching_technology = infiltration_in_depth	is_researching_technology = breakthrough_priority 		is_researching_technology = mechanized_wave 			is_researching_technology = continuous_offensive			
				}
			}
		}
	}
	
}
